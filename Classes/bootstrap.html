<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Styde.net | Curso de VueJS</title>
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">

    <script src="js/vue.js"></script>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <!-- v-if elimina el elemento si no se cumple la condicion -->
                <!-- <h1 id="title" v-if="name">Bienvenido, {{ name }}!</h1> -->
                <!-- v-show oculta el elemento si no se cumple la condicion -->
                <!-- <h1 id="title" v-show="name">Bienvenido, {{ name }}!</h1> -->
                <!-- cuando queremos ocultar o mostrar un conjunto de elemntos es recomendable agruparlos en un div -->
                <!-- <div v-show="name">
                    <h1>Bienvenido, {{ name }}!</h1>
                    <p>Espero que disfrutes tu vista</p>
                </div> -->
                <!-- con template podemos agrupar elementos (v-show no funciona con template) -->
                <template v-if='name'>
                    <!-- operador condicional ternary -->
                    <h1>
                        {{ gender == 'm' ? 'Bienvenido' : 'Bienvenida' }}, {{ name }}!
                    </h1>
                    <p>Espero que disfrutes tu vista</p>
                    <p>Tu nombre al revez es: {{ name.split('').reverse().join('') }}</p>
                </template>
                <p v-else>Por favor escribe tu nombre.</p>
                
                <form action="">
                    <!-- v-model es una propiedad de vue.js -->
                    <input type="text" v-model="name" class="form-control">
                    <p v-if='!name' class='alert alert-danger'>
                        Este campo es obligatorio
                    </p>
                    <!-- <p v-if='name.length < 2' class='alert alert-danger'>
                        El nombre no es valido
                    </p> -->
                    
                    <br>
                    <label for="gender">Seleccione su genero</label>
                    <select v-model="gender" multiple name="gender" class="form-control">
                        <option value="m">Masculino</option>
                        <option value="f">Femenino</option>
                    </select>
                    
                    <br>

                    <label>¿Cuántos años de experiencia tienes con PHP?</label>

                    <p>
                        Respuesta: <strong>{{ years_php }}</strong>
                        <button type="button" 
                                :class="{ btn: true, 'btn-danger': years_php > 10 }"
                                :style="getAddYearButtonStyles()"
                                @click="years_php ++">+</button>
                        <!-- el abrebiado de la funcion v-bind es : -->
                        <button type="button" :disabled="years_php == 0" class="btn" @click="less">-</button>
                    </p>

                    <label>¿Cuántos años de experiencia tienes con JavaScript?</label>

                    <p>
                        Respuesta: <strong>{{ years_js }}</strong>
                        <button type="button" 
                                :class="{ btn: true, 'btn-danger': years_js > 10 }"
                                :style="getAddYearJsButtonStyles()"
                                @click="years_js ++">+</button>
                        <!-- el abrebiado de la funcion v-bind es : -->
                        <button type="button" :disabled="years_js == 0" class="btn" @click="lessJs">-</button>
                    </p>

                    <img src="logo.png" v-bind:title="years_php">
                    
                    <div v-show="name">
                        <hr>

                        <p>
                            <!-- la directiva v-on permite asociar eventos al objeto, si se colola .prevent se deshabilita la accion por defecto del objeto, si se quiere reducir texto se puede utilizar el @ en vez de v-on: -->
                            <button type="submit" class="btn btn-primary" @click.prevent="signUp(false, $event)">Regístrate</button>
                            <button type="submit" class="btn btn-primary" @click.prevent="signUp(true, $event)">Regístrate y sal del sistema</button>
                        </p>
                    </div>
                </form>
                
                <hr>
                
                <!-- Permite mostrar objetos en jormato json -->
                <pre>{{ $data | json }}</pre>                
            </div>
        </div>
    </div>
    

    <script>
        /*
        Manera de crear una bienvenida interactiva utilizando JQuery
            $(document).ready(function() {

                $("#name").keyup(function() {
                    $("#title").text("Bienvenido " + $("#name").val());
                });

            });
        */

        // Utilizando Vue.js
        new Vue({
            // Define a que objeto o elemento de la pagina queremos asociar nuestro elemento de vue.js
            el: "body",
            data: {
                name: "",
                gender: "m",
                years_php: 0,
                years_js: 0
            },
            methods: {
                signUp: function(logout, event) {
                    // event.preventDefault();
                    alert(this.name + ' registrado.');

                    if (logout) {
                        alert('Saliendo del sistema.');
                    }
                },
                less: function() {

                    if (this.years_php > 0) {
                        this.years_php--;
                    }
                },
                getAddYearButtonStyles: function() {
                    return {'font-size': 10 + this.years_php + 'px'};
                },
                lessJs: function() {
                    if (this.years_js > 0) {
                        this.years_js--;
                    }
                },
                getAddYearJsButtonStyles: function() {
                    return {'font-size': 10 + this.years_js + 'px'};
                },
            }
        });
    </script>
    
</body>
</html>